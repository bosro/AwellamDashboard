<div class="p-6 max-w-6xl mx-auto">
    <!-- Header -->
    <div class="flex justify-between items-center mb-6">
      <div>
        <h1 class="text-2xl font-semibold text-gray-900">
          Transport Details
        </h1>
        <!-- <p class="mt-1 text-sm text-gray-600">{{transport.startLocation}} â†’ {{transport.endLocation}}</p> -->
      </div>
      <div class="flex space-x-3">
        <button 
          [routerLink]="['/transport/trips']"
          class="flex items-center px-4 py-2 bg-white border rounded-lg hover:bg-gray-50">
          <i class="ri-arrow-left-line mr-2"></i>
          Back to List
        </button>
        <button 
          [routerLink]="['/transport/trips', transport._id, 'edit']"
          class="flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
          <i class="ri-edit-line mr-2"></i>
          Edit Transport
        </button>
      </div>
    </div>
  
    <!-- Loading State -->
    <div *ngIf="loading" class="flex justify-center items-center h-64">
      <i class="ri-loader-4-line text-3xl animate-spin text-blue-600"></i>
    </div>
  
    <!-- Transport Details -->
    <div *ngIf="!loading && transport" class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Basic Info Card -->
      <div class="bg-white rounded-lg shadow p-6">
        <h2 class="text-lg font-medium mb-4">Transport Information</h2>
        <dl class="space-y-4">
          <div>
            <dt class="text-sm font-medium text-gray-500">Status</dt>
            <dd class="mt-1">
              <!-- <span [class]="'px-2 py-1 rounded-full text-xs font-medium ' + 
                           >
                {{transport.status | titlecase}}
              </span> -->
            </dd>
          </div>
          <div>
            <dt class="text-sm font-medium text-gray-500">Start Location</dt>
            <!-- <dd class="mt-1">{{transport.startLocation}}</dd> -->
          </div>
          <div>
            <dt class="text-sm font-medium text-gray-500">End Location</dt>
            <!-- <dd class="mt-1">{{transport.endLocation}}</dd> -->
          </div>
          <div>
            <dt class="text-sm font-medium text-gray-500">Distance</dt>
            <!-- <dd class="mt-1">{{transport.distance}} km</dd> -->
          </div>
        </dl>
      </div>
  
      <!-- Schedule Info Card -->
      <div class="bg-white rounded-lg shadow p-6">
        <h2 class="text-lg font-medium mb-4">Schedule Information</h2>
        <dl class="space-y-4">
          <div>
            <dt class="text-sm font-medium text-gray-500">Start Time</dt>
            <!-- <dd class="mt-1">{{transport.startTime | date:'medium'}}</dd> -->
          </div>
          <div>
            <dt class="text-sm font-medium text-gray-500">Estimated End Time</dt>
            <!-- <dd class="mt-1">{{transport.estimatedEndTime | date:'medium'}}</dd> -->
          </div>
          <!-- <div *ngIf="transport.actualEndTime"> -->
            <dt class="text-sm font-medium text-gray-500">Actual End Time</dt>
            <!-- <dd class="mt-1">{{transport.actualEndTime | date:'medium'}}</dd> -->
          <!-- </div> -->
        </dl>
      </div>
  
      <!-- Resource Info Card -->
      <div class="bg-white rounded-lg shadow p-6">
        <h2 class="text-lg font-medium mb-4">Resource Information</h2>
        <dl class="space-y-4">
          <div>
            <dt class="text-sm font-medium text-gray-500">Driver</dt>
            <!-- <dd class="mt-1">{{transport.driverName || 'Unassigned'}}</dd> -->
          </div>
          <div>
            <dt class="text-sm font-medium text-gray-500">Truck</dt>
            <!-- <dd class="mt-1">{{transport.truckRegistration || 'Unassigned'}}</dd> -->
          </div>
          <div>
            <dt class="text-sm font-medium text-gray-500">Load</dt>
            <!-- <dd class="mt-1">{{transport.currentLoad}} / {{transport.loadCapacity}} tons</dd> -->
          </div>
        </dl>
      </div>
  
      <!-- Progress Card -->
      <div class="md:col-span-3 bg-white rounded-lg shadow p-6">
        <h2 class="text-lg font-medium mb-4">Transport Progress</h2>
        <div class="relative pt-1">
          <div class="flex mb-2 items-center justify-between">
            <!-- <div>
              <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full" 
              
                {{transport.status}}
              </span>
            </div> -->
            <div class="text-right">
              <span class="text-xs font-semibold inline-block">
                {{routeProgress.toFixed(1)}}%
              </span>
            </div>
          </div>
          <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-200">
            <div [style.width.%]="routeProgress" 
                 class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500">
            </div>
          </div>
        </div>
  
        <!-- Status Update Actions -->

      </div>
  
      <!-- Timeline -->
      <div class="md:col-span-3 bg-white rounded-lg shadow p-6">
        <h2 class="text-lg font-medium mb-6">Transport Timeline</h2>
        <div class="relative">
          <div class="absolute left-8 top-0 bottom-0 w-0.5 bg-gray-200"></div>
          <div class="space-y-6">
            <div *ngFor="let event of timeline" 
                 class="relative flex items-start group">
              <div class="h-16">
                <span [class]="'flex items-center justify-center w-16 h-16 rounded-full ' +
                               (event.status === 'completed' ? 'bg-green-100' :
                                event.status === 'current' ? 'bg-blue-100' : 'bg-gray-100')"
                >
                  <i [class]="event.icon + ' text-2xl ' +
                             (event.status === 'completed' ? 'text-green-600' :
                              event.status === 'current' ? 'text-blue-600' : 'text-gray-400')"
                  ></i>
                </span>
              </div>
              <div class="ml-4 min-w-0 flex-1">
                <div class="text-sm font-medium text-gray-900">{{event.title}}</div>
                <div class="mt-1 text-sm text-gray-500">{{event.description}}</div>
                <div *ngIf="event.timestamp" class="mt-1 text-xs text-gray-400">
                  {{event.timestamp | date:'medium'}}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Fuel Consumption Chart -->
      <div *ngIf="fuelConsumptionData.length > 0" class="md:col-span-3 bg-white rounded-lg shadow p-6">
        <h2 class="text-lg font-medium mb-4">Fuel Consumption</h2>
        <div class="h-64">
          <ngx-charts-line-chart
            [results]="fuelConsumptionData"
            [xAxis]="true"
            [yAxis]="true"
            [legend]="true"
            [showXAxisLabel]="true"
            [showYAxisLabel]="true"
            xAxisLabel="Time"
            yAxisLabel="Consumption (L)">
          </ngx-charts-line-chart>
        </div>
      </div>